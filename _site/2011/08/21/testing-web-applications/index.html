<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title> Testing web applications |  Sans Bytes</title>
		<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" href="/bootstrap/css/bootstrap-responsive.min.css" />
		<link rel="stylesheet" href="/style.css" />
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml" />
	</head>

	<body>
		<div class="row-fluid page-header">
			<header>
				<a href="/">
					<div class="span1">
						<img src="/profile-pic.png" class="heading-image" licence="http://creativecommons.org/licenses/by-nd/3.0/"/>
					</div>
					<div class="span4">
						<h1>Sans Bytes</h1>
						<span class="small">Daniel Heath blogs here</span>
					</div>
				</a>
			</header>
		</div>

	    <div class="row">
		<div class="span2">

			<ul class="nav nav-pills nav-stacked">
				<li class="nav-header">Projects</li>
				<li>
					<a href="/furious-earth">Furious Earth<br/> (two-player shooter)</a>
				</li>
				<li>
					<a href="http://wod.daniel.heath.cc" target="blank">Mage: the Awakening Character Creator<br/>(new window)</a>
				</li>
				<li class="nav-header">Posts</li>
			
				<li>
					<a href="/2014/08/27/postgres-features-in-20-minutes/">Postgres features for Ruby developers</a>
				</li>
			
				<li>
					<a href="/2013/10/03/questions-for-prospective-employers/">Questions for prospective employers</a>
				</li>
			
				<li>
					<a href="/2013/06/23/learning-go/">Learning Go</a>
				</li>
			
				<li>
					<a href="/2013/06/03/sprockets-and-go/">The rails asset pipeline - Now for every framework.</a>
				</li>
			
				<li>
					<a href="/2013/03/19/removing-cortiz-is-pointless/">Removing Carmen Ortiz is pointless</a>
				</li>
			
				<li>
					<a href="/2013/02/11/push-vs-pull/">Push vs Pull</a>
				</li>
			
				<li>
					<a href="/2013/02/10/static-sites-on-s3/">Thanks</a>
				</li>
			
				<li>
					<a href="/2013/02/09/distributed-teams/">Distributed Teams</a>
				</li>
			
				<li>
					<a href="/2011/08/22/fast-tests-with-phantomjs/">Fast tests with PhantomJS</a>
				</li>
			
				<li>
					<a href="/2011/08/21/testing-web-applications/">Testing web applications</a>
				</li>
			
				<li>
					<a href="/2011/08/20/practices-for-building-web-applications/">Practices for building web applications</a>
				</li>
			
				<li>
					<a href="/2011/08/19/tools-for-building-web-applications/">Tools for building web applications</a>
				</li>
			
			</ul>
		</div>

		<div class="span10">

				<div id="content">
					

<article class="post span8 offset1 h-entry">
  <h3>
  	<a class="p-name" href="/2011/08/21/testing-web-applications/">Testing web applications</a>
  	<div class="byline">
	  	<span
	  		class="small post-date dt-published"
	  		datetime="2011-08-21 00-00-00"
	  	>Aug 21, 2011</span>
	  	<span class="small p-author author-byline h-card">Daniel Heath</span>
  	</div>
  </h3>

  <div class="row">
    <div class="span6 content offset1 e-content">
      <p>As a followup to my last post - a description of how I test my work.</p>

<h2 id="what-do-you-need-out-of-a-webapp-test-suite">What do you need out of a webapp test suite</h2>

<p>Must haves:</p>

<ul>
  <li>Run tests in a real browser</li>
  <li>Inspect test state using a debugger to track down the reason for failures</li>
</ul>

<p>Nice to have:</p>

<ul>
  <li>Run your entire suite fast (See next post)</li>
  <li>When you save a spec file, it runs and pops up a notification with the result (See next post)</li>
  <li>When you save a code file, it runs the associated test and pops up a notification with the result</li>
  <li>Run specific tests</li>
</ul>

<h2 id="setting-up-the-basics">Setting up the basics</h2>
<p>To get started testing, I’ve found jasmine.js is pretty awesome.
You should be able to get up and running with it fairly quickly; I’ve found the following approach works well:</p>

<ul>
  <li>Write a hello world spec that has one failing and one passing test</li>
  <li>Put it in <code>spec/jasmine/hello_world_spec.coffee</code></li>
  <li>I’ve got a very simple <code>spec_controller.rb</code>, which
    <ul>
      <li>Is only available when RAILS_ENV is development</li>
      <li>Serves up <a href="/examples/jasmine_runner.html.erb.txt">an html page</a> with
        <ul>
          <li>jasmine and jasmine-html</li>
          <li>All the javascript for my app (except the application starter file)</li>
          <li>Test-specific css styles</li>
          <li>DOM fixtures</li>
          <li>The actual test</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Here’s the html.erb template I use:</p>
  </li>
  <li>Serve spec files out of /spec when your app is in development mode.</li>
  <li>Run specs by visiting <code>http://localhost/spec?spec_file=hello_world_spec</code></li>
  <li>You can now run the specs manually; a good start</li>
  <li>I use <a href="/examples/jasmine_runner.rake.txt">a capybara script</a> in a rake task to run the specs in CI.</li>
</ul>

<h2 id="next-time">Next time</h2>
<ul>
  <li>How to set up phantomjs, autotest (with growl/libnotify) to run your tests</li>
  <li>My textmate bundle for jasmine / coffeescript development</li>
</ul>

    </div>
  </div>
</article>


<div class="row small clear">
  There is no comment box here.<br/>
  If you have something to contribute I would be delighted to hear it via <a href="mailto:daniel@heath.cc">email</a>.<br/>
</div>

				</div>
			</div>
	    </div>

		<footer class="row-fluid page-footer vcard">
			&copy; 2013
			<strong class="name fn">Daniel Heath</strong> |
			<a href="/about">About</a> |

			<address class="adr">
			    <a class="email" href="mailto:daniel@heath.cc">Email</a> |
			    <a href="http://daniel.heath.cc/">Blog</a> |
			    <a href="https://github.com/DanielHeath">Github</a> |
			    <a href="https://twitter.com/DanielrHeath">Twitter</a> |
			    <a href="/resume">Resume</a> |
			    <a href="https://plus.google.com/114859106574535166251">Google+</a> |
				<a class="url" href="xmpp:daniel@heath.cc">Jabber</a>

			</address>
		</footer>

		<script type="text/javascript">

		    var _gaq = _gaq || [];
		    _gaq.push(['_setAccount', 'UA-38426219-1']);
		    _gaq.push(['_setDomainName', 'heath.cc']);
		    _gaq.push(['_trackPageview']);

		    (function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		    })();

		</script>

	</body>

</html>
